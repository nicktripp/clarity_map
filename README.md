# Notes From Nick

**The following are notes about the implementation of this code challenge.**

## On This Implementation

The code I wrote is in the following directory structure:

    public/
        index.html
    src/
        /components
            App.js
            Legend.js
        /containers
            Map.js
            ResultList.js
            Searchbar.js
            VisibleResultList.js
        /data
            aqi.js
            generateGeoJson.js
            nodes.js
        actions.js
        index.css
        index.js
        initState.js
        reducers.js

For clarity, I'll go through each.

### ***/***

#### *index.js*

This file sets up the Redux store initialized in `/src/initState.js`, and connects the application found in `/src/components/App.js` to the public `/public/index.html`.  Standard React-Redux procedure.

#### *initState.js*

Defines the initial values for the redux store describing the application state.

#### *actions.js*

Defines pure actions that can transition the redux store to a different state.  Hooked up to `/src/reducers.js`.

#### *reducers.js*

Based on the actions defined in `./actions.js`, each reducer returns a part of the new Redux state.

#### *index.css*

This file contains my custom styling information for elements found all over the rest of the project.


### ***/public***
#### *index.html*

This file is mostly pre-generated by `create-react-app`.  The meat of this is filled out in `src/index.js`.

### ***/src/components***

This directory holds simple React components - those that don't modify the Redux state.

#### *App.js*

Sets initial mapbox conditions, and defines a layout for other containers/components.

#### *Legend.js*

Defines a static Legend component that sits on the map overlay.

#### *Popup.js*

Defines helper functions to stylize click popups based on node data.

### ***/src/containers***

This directory holds complex React-Redux components - those that modify the Redux state based on input.

#### *Map.js*

This large file handles mapbox Map behavior.  It's mostly initializing callbacks for 1) map events like onClick, onLoad and 2) the map redrawing under new props (such as a new popup or new highlighted point to fly-to).

#### *ResultList.js*

This file handles styling for our searchResults.  To do this, it dynamically populates an antd <Select> dropdown with searchResults.  Should one be selected, it clears the results and signals the map to fly to the selected point.

#### *Searchbar.js*

This file 1) defines the layout of the search bar overlay, 2) defines input behavior to send queries the geocoders defined in `./Map.js`, and 3) specifies how to store the results of those queries back into the redux store.

## ***/src/data***

This directory contains hard-coded data on nodes and AQI color indices, and contains some helper functions for transforming that data into different formats.

### *aqi.js*

Contains AQI number->color data and a helper function to transform an AQI number into a corresponding AQI-level color.

### *generateGeoJson.js*

Contains helper function to transform the simple, hardcoded node data found in `nodes.js` into GeoJSON layer data and Carmen GeoJSON data.

### *nodes.js*

Contains hardcoded JSON node data.  The data is full of made-up nodes at locations around Auckland, NZ.


<br />
<br />


## Thank You!

This project proved to be a challenge, and I gained much from it.
I thank you for reading this, and for this opportunity to display my skillset!

#### Candidate Information:

    Name: Nick Tripp
    Phone: 908-343-7885
    Email: nick.e.tripp@gmail.com


### Sources consulted in this project

- [React: Tutorial](https://reactjs.org/tutorial/tutorial.html)
- [Redux: Tutorial](https://redux.js.org/introduction)
- [Ant Design: Tutorial](https://ant.design/docs/react/introduce)
- [Mapbox: examples](https://blog.mapbox.com/mapbox-gl-js-react-764da6cc074a)
- [Mapbox: React-Redux](https://hackernoon.com/react-redux-with-mapbox-78fa3767211e)
- [Mapbox: Data Driven Circle Colors](https://www.mapbox.com/mapbox-gl-js/example/data-driven-circle-colors/)
- [Mapbox: Hover Styling](https://www.mapbox.com/mapbox-gl-js/example/hover-styles/)
- [Mapbox: Geocode Search](https://www.mapbox.com/mapbox-gl-js/example/mapbox-gl-geocoder-outside-the-map/)
- [Mapbox: Geocode Own Data](https://www.mapbox.com/mapbox-gl-js/example/mapbox-gl-geocoder-local-geocoder/)
- [Mapbox: Geocode Own Data 2](https://www.mapbox.com/mapbox-gl-js/example/forward-geocode-custom-data/)
- [Mapbox: Set Point from Geocoder Result](https://www.mapbox.com/mapbox-gl-js/example/point-from-geocoder-result/)
- [Input: Debouncing](https://stackoverflow.com/questions/37527806/which-event-to-use-for-search-input)
